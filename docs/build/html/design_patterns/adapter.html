

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>adapter &mdash; myutils  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=a6a68382" />
      <link rel="stylesheet" type="text/css" href="../_static/fonts.css?v=5583d106" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="builder" href="builder.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            myutils
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Design Patterns</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="singleton.html">singleton</a></li>
<li class="toctree-l2"><a class="reference internal" href="prototype.html">prototype</a></li>
<li class="toctree-l2"><a class="reference internal" href="factory.html">factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="builder.html">builder</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">adapter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-it-works">How it works</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-core.design_patterns.adapter">API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#core.design_patterns.adapter.Adapter"><code class="docutils literal notranslate"><span class="pre">Adapter</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">myutils</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Design Patterns</a></li>
      <li class="breadcrumb-item active">adapter</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/design_patterns/adapter.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="adapter">
<h1>adapter<a class="headerlink" href="#adapter" title="Link to this heading"></a></h1>
<p>Adapter is a design pattern that allows objects with incompatible interfaces to work together. It acts as a bridge between two incompatible classes, converting the interface of one class into another interface that a client expects. Defining such an adapter has the following benefits:</p>
<ul class="simple">
<li><p>It promotes reusability by allowing existing classes to be integrated without modifying their source code.</p></li>
<li><p>It enables flexibility, letting you swap or extend adapters at runtime.</p></li>
<li><p>It helps in integrating legacy systems or third-party libraries with new code.</p></li>
</ul>
<p>There are two main variations of the adapter pattern: <strong>Object Adapter</strong> (which uses composition) and <strong>Class Adapter</strong> (which uses inheritance). The implementation we provide here is inspired by <strong>Object Adapter</strong>, using composition to wrap and delegate to the adapted object.</p>
<section id="how-it-works">
<h2>How it works<a class="headerlink" href="#how-it-works" title="Link to this heading"></a></h2>
<p>Imagine you’re traveling internationally and need to plug your European laptop charger into a US wall socket. The plugs are incompatible, so you use an adapter that converts the European plug to fit the US socket. Similarly, in code, the Adapter helps incompatible classes “fit” together. We’ll demonstrate this with a bird analogy: Ducks quack, but Turkeys gobble. We’ll adapt a Turkey to behave like a Duck (by making its gobble sound like a quack) so it can join a flock of ducks seamlessly.</p>
<ol class="arabic">
<li><p>Import the Adapter class from the package.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">core.design_patterns.adapter</span><span class="w"> </span><span class="kn">import</span> <span class="n">Adapter</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Create some classes with incompatible interfaces. For example, a <code class="docutils literal notranslate"><span class="pre">Duck</span></code> class with a <code class="docutils literal notranslate"><span class="pre">quack</span></code> method, and a <code class="docutils literal notranslate"><span class="pre">Turkey</span></code> class with a <code class="docutils literal notranslate"><span class="pre">gobble</span></code> method (which is incompatible if we want it to act like a duck).</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Duck</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">quack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Quack! Quack!&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Turkey</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">gobble</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Gobble gobble!&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To make the Turkey compatible with code expecting a Duck (i.e., something that can <code class="docutils literal notranslate"><span class="pre">quack</span></code>), create a <code class="docutils literal notranslate"><span class="pre">TurkeyAdapter</span></code> that inherits from <code class="docutils literal notranslate"><span class="pre">Adapter</span></code>. In the adapter, we’ll add a <code class="docutils literal notranslate"><span class="pre">quack</span></code> method that translates the <code class="docutils literal notranslate"><span class="pre">gobble</span></code> into a duck-like sound (e.g., by calling gobble multiple times to mimic a quack). Pass the Turkey class to the adapter.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">TurkeyAdapter</span><span class="p">(</span><span class="n">Adapter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">quack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Adapt gobble to sound like a quack (e.g., gobble three times)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">gobble</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">gobble</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">gobble</span><span class="p">()</span>

<span class="c1"># Create an instance of the adapter wrapping a Turkey</span>
<span class="n">adapted_turkey</span> <span class="o">=</span> <span class="n">TurkeyAdapter</span><span class="p">(</span><span class="n">Turkey</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Now, the <code class="docutils literal notranslate"><span class="pre">adapted_turkey</span></code> can be used wherever a Duck is expected. It provides the <code class="docutils literal notranslate"><span class="pre">quack</span></code> interface, even though the underlying Turkey only knows how to <code class="docutils literal notranslate"><span class="pre">gobble</span></code>.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">adapted_turkey</span><span class="o">.</span><span class="n">quack</span><span class="p">())</span>  <span class="c1"># Gobble gobble! Gobble gobble! Gobble gobble!</span>

<span class="c1"># Example usage in a function expecting a Duck-like object</span>
<span class="k">def</span><span class="w"> </span><span class="nf">make_bird_sound</span><span class="p">(</span><span class="n">bird</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">bird</span><span class="o">.</span><span class="n">quack</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">make_bird_sound</span><span class="p">(</span><span class="n">adapted_turkey</span><span class="p">))</span>  <span class="c1"># Works! Outputs adapted gobble as quack</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>There may be cases where the adapted object requires initialization parameters. Pass them as kwargs to the Adapter, and it will filter and forward only the relevant ones based on the object’s signature.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">WildTurkey</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">gobble</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> says: Gobble gobble!&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">WildTurkeyAdapter</span><span class="p">(</span><span class="n">Adapter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">quack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">gobble</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Gobble&quot;</span><span class="p">,</span> <span class="s2">&quot;Quack&quot;</span><span class="p">)</span>  <span class="c1"># Simple adaptation</span>

<span class="n">adapted_wild_turkey</span> <span class="o">=</span> <span class="n">WildTurkeyAdapter</span><span class="p">(</span><span class="n">WildTurkey</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Tom&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">adapted_wild_turkey</span><span class="o">.</span><span class="n">quack</span><span class="p">())</span>  <span class="c1"># Tom says: Quack quack!</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>The Adapter uses dynamic delegation via <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getattr__()</span></code>, so you can access any attributes or methods of the wrapped instance directly. If needed, override or add methods in your subclass to perform the actual interface translation.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Adapter is abstract (inherits from ABC), but you can subclass it to create specific adapters. This promotes composition over inheritance, making your code more flexible.</p>
</div>
</div></blockquote>
</li>
</ol>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>It’s recommended to use adapters for classes with similar purposes but different interfaces (e.g., different birds in a flock). This way, you can write more dynamic code that treats adapted objects uniformly, benefiting from polymorphism.</p>
</div>
</section>
<section id="module-core.design_patterns.adapter">
<span id="api-reference"></span><h2>API Reference<a class="headerlink" href="#module-core.design_patterns.adapter" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="core.design_patterns.adapter.Adapter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">core.design_patterns.adapter.</span></span><span class="sig-name descname"><span class="pre">Adapter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#core.design_patterns.adapter.Adapter" title="Link to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="core.design_patterns.adapter.Adapter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#core.design_patterns.adapter.Adapter.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the Adapter with an object and keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – The class or callable to be adapted.</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments to pass to the object’s constructor.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="builder.html" class="btn btn-neutral float-left" title="builder" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, arash alizadeadel.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>